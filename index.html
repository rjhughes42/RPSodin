<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="rps.css">
</head>
<body>
    <div class="game">
    <h1 class= "title"> Rock Paper Scissors</h1>
</div>
<div class="main">
    <h3>Select your choice below</h3>
<div class="buttonlist">
    <button class="rock buttons">Rock</button>
    <button class="paper buttons">Paper</button>
    <button class="scissors buttons">Scissors</button>
    </div>
<div class="description">
    <p>Best of 5 rounds</p>
    <p id="compchoice"></p>
</div>
<div id="gamewinner">
    <h1></h1>
</div>
<div class="round">
    <p id= "roundtext"></p>
    <h2>ROUND SCORE</h2>
    <p id="current">Your Score: 0  Computer Score: 0 </p>
</div>
</div>
</body>
<script>


    const buttons = document.querySelectorAll('.buttons');
    const current = document.getElementById('current');
    const compChoice = document.getElementById('compchoice');
    const gameWinner = document.getElementById('gamewinner');

    let actualChoice = '';

    let playerChoice;
    let pScore = 0;
    let cScore = 0;
    let draw = 0;


    // function to play a round of RPS
    function playRound(playerSelection, computerSelection){
              
              if (playerSelection === computerSelection){
                  return 3;
              } else if (playerSelection === "paper" && computerSelection === "rock"){
                  return 1
              } else if (playerSelection === "rock" && computerSelection === "scissors"){
                  return 1
              } else if (playerSelection === "scissors" && computerSelection === "paper"){
                  return 1
              } else {
                  return 2
              }
      }
      
    // function to randomly return rock paper or scissors
    function computerPlay() {
        let randomNumber = Math.floor(Math.random()*100) + 1;
        if (randomNumber > 70) {
            actualChoice = "Rock"
            return "rock"

        } else if (randomNumber > 35) {
            actualChoice = "Paper"
            return "paper"

        } else {
            actualChoice = "Scissors"
            return "scissors"

        }
    }
    
    
    
Array.from(buttons).forEach(function(buttons) {
  buttons.addEventListener('click', function() {
    buttons.classList.add('clicked')
    // checks class of clicked button and assigns it to playerChoice
    if (this.classList.contains('rock')){
        playerChoice = 'rock';
    } else if (this.classList.contains('scissors')) {
        playerChoice = 'scissors';
    } else if (this.classList.contains('paper')) {
        playerChoice = 'paper';
    }
    setTimeout(() => {buttons.classList.remove('clicked')}, 225);
    // start of game function
    for (let i = 1; i <= 1; i++){
        let round = playRound(playerChoice, computerPlay());
        gameWinner.textContent = ""
    if (round == 1){
        pScore++;
        current.innerHTML = `Your Score: ${pScore} Computer Score: ${cScore} Draw: ${draw}`;        
        compChoice.innerHTML = `Computer Choice: ${actualChoice}`;
    } else if (round == 2) {
        cScore++
        current.innerHTML = `Your Score: ${pScore} Computer Score: ${cScore} Draw: ${draw}`;
        compChoice.innerHTML = `Computer Choice: ${actualChoice}`;
        
    } else if (round == 3) {
        draw++
        current.innerHTML = `Your Score: ${pScore} Computer Score: ${cScore} Draw: ${draw}`;        
        compChoice.innerHTML = `Computer Choice: ${actualChoice}`;
        i--;
    }
    }
    if (cScore >= 5 || pScore >= 5) {
        if (pScore > cScore) {
            gameWinner.textContent = "You WON!"
            pScore = 0;
            cScore = 0;
            draw = 0;
        } else {
            gameWinner.textContent = "You Lost, better luck next time!"
            pScore = 0;
            cScore = 0;
            draw = 0;
        }
    }
  });
});

    // //prompts player choice
    // function playerPrompt(){
    //     let playerChoice = prompt("Pick rock, paper, or scissors")
    //     return playerChoice.toLowerCase();
    // }


    // function game(){
    // let pScore;
    // let cScore;
    // for (let i = 0; i < 5; i++){
    // let playerSelection = playerPrompt();
    // let computerSelection = computerPlay();
    // let round = playRound(playerSelection, computerSelection);
    // if (round == 1){
    //     console.log("You win this round");
    //     pScore++;
    // } else if (round == 2) {
    //     console.log("You lost this round");
    //     cScore++
    // } else if (round == 3) {
    //     console.log("Draw");
    //     i--;
    // }
    // }
    // if (pScore > cScore){
    //     return "You Win this game!";
    // } else {
    //     return "Better luck next game";
    // }
    // }

    // console.log(game());
</script>
</html>
